@startuml AdoptAR

skinparam Linetype ortho

class User <<Model>> {
  id: number 
  email: string
  nombre: string
  apellido: string 
  password: string 
  role: ROLES
  telefono: string 
  direccion: string
  createdAt: Date
  updatedAt: Date
  deletedAt: Date
}

class CreateUsuarioDto <<DTO>> {
  }

class UpdateUsuarioDto <<DTO>>{
    
  }

class QueryUsuariosDto <<DTO>>{

  }
class UsersController <<Controller>> {

  constructor UsersController(usersService: UsersService): UsersController

  findAll() : Promise<User[]>

  findUsuariosConFiltros(params: QueryUsuariosDto) : Promise<{ users: User[]; total: number }>

  getPerfil(id: number,req: AuthenticatedRequest): Promise<User>

  create(createUsuarioDto: CreateUsuarioDto): Promise<User>

  findOne(id: number,req: AuthenticatedRequest): Promise<User>

  getEstadisticas(id: number,req: AuthenticatedRequest) : Promise<EstadisticasUsuarioDto>

  update(id: number,UpdateUsuarioDto: UpdateUsuarioDto,req: AuthenticatedRequest) : Promise<User>
  
  remove(id: number, req: AuthenticatedRequest): Promise<void>
  }
/' 
note right of UsersController::create
 test
end note
'/
class UsersService <<Service>>{
  constructor UsersService(userModel: typeof User, mascotaModel: typeof Mascota, publicacionModel: typeof Publicacion, visitaModel: typeof Visita, accesoService: AccesoService): UsersService
  

}

enum ROLES{
    ADMIN = 'Admin',
    PUBLICADOR = 'Publicador'
}

@enduml